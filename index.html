<html>
<head>
	<title></title>
</head>
<body onload="main()">
	<canvas id='test' height='620' width='580'>Текст показывается, если элемент не поддерживается</canvas>

	<script type="text/javascript">
		// тут задаются основные переменные (радиус/начал/)
		var startX = 60;
		var startY = 0;
		var interval = 10;

		function main() {

			var mainRadius = startX;

			var canvas = document.getElementById("test");
			var ctx = canvas.getContext('2d');
			ctx.lineWidth = 1;
			ctx.translate(startX*2,startX);

			drowCircles(interval, mainRadius, ctx);
		}

		function drowCircles(quantity, radius, ctx){
			var coordinates = [];
			var x0 = radius*2;
			var y0 = radius;
			var alpha = 2*Math.PI/quantity;

			// вычисляем для каждой окружности координаты центра и радиус
			// и отрисовываем ее
			for(i=0; i<quantity;i++){ 
				coordinates[i]=[];

				coordinates[i][0]=radius+(x0-radius)*Math.cos(alpha)-(y0-radius)*Math.sin(alpha);
				coordinates[i][1]=radius+(x0-radius)*Math.sin(alpha)+(y0-radius)*Math.cos(alpha);
				coordinates[i][2]=Math.sqrt(Math.pow((startX-coordinates[i][0]),2)+Math.pow((startY-coordinates[i][1]),2)); // сюда пишем радиус
				
				x0 = coordinates[i][0];
				y0 = coordinates[i][1];

				//ctx.moveTo(coordinates[i][0]+coordinates[i][2], coordinates[i][1]);

				setTimeout(animate, 3000*i, coordinates[i][0], coordinates[i][1],coordinates[i][2], ctx);
			}
		}
		function animate (x, y, r, ctx) {
			for (var i=0;i<2*Math.PI;i=i+Math.PI/20){
				//ctx.moveTo(x+r, y);
				doScaledTimeout(i, x, y, r, ctx);
			}
		}

		function doScaledTimeout(i, x, y, r, ctx) {
			var oldX=x+r;
			var oldY=y;
			var newX, newY;
			setTimeout(function() {
				newX = r + (oldX-r)*Math.cos(Math.PI/20)-(oldY-r)*Math.sin(Math.PI/20);
				newY = r + (oldX-r)*Math.sin(Math.PI/20)+(oldY-r)*Math.cos(Math.PI/20);
				console.log(oldX+' new: '+newX);
				oldX = newX;
				oldY = newY;
				
				ctx.moveTo(newX, newY);
				ctx.arc(x, y, r, i, i+1, false);
				ctx.stroke();
			}, i*500);
		}
	</script>
</body>
</html>